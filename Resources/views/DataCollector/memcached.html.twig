{% extends 'WebProfilerBundle:Profiler:layout.html.twig' %}

{% block toolbar %}
    {% set icon %}
        <img width="20"
             height="28"
             alt="Memcache"
             src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DGRcHJGLuAHcAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACrUlEQVRIx+2UO0xTYRTHz3d7b6FIeUmhviZauaCgpQkIPoIRXyBIEZISJonI04DEGNDFhBBICNrBKJjSmrhonAzKAA7appoymaglTXBoL9gXBQr2Yu9t+7lYINjGxcSl//Hkl99w/icHIJ54/n9Q+/VWkmVZVTAYdEil2bOjGg0XDVQ3NNSLxWKfw+kyvJ56E4glFOTl0pkLDDPrdrma13xrUqWiiPk6Z3Fuh3q7e/bMz397abPbuygBqVAqi2yWuTkmmpCgD+WnUBQFHM/Dktfb4nQ6pivPnR+cnJxMjkDJqSkHMnZnZOEwhuWVlapFZmGqovz0Q712QvKHEAAQxnhz4GdZidvj6R8ZGv7U0dZ+CgBASFEUArTJBDguZdXn6xwfH7M0qRubdwq3FooQIIQAAJCfZXNmzeb3ly5W6kKhUHoUBng+mGm1WicuVJx923qtRQYAQMZsCyHAGIPD4bhqMhivkEKKjMW4PZ4zAZ77WF1ZJSP/egYIQW4eLbLZ7ChmswICaJoW0/n5oqhCjDFgjCFTIoGeW73AB4PmZzp9MQAIdnIJQiG0dnXCQZp+F+ACa0Q0UWJCAlRfroERzf31H35/reXzlzsYQzjCAAAQBAElpcfgsU4b3Lt/3w2j0aAqP3GSJQG2GhYQBBQcKYRqVS2XJZW+6OjobDMZDOzAwMBx+C1CCIFcLoeaOlU4Ry436vW6Js3og8WIgyQIQRgAIDs7C+rVajhcWGD2epeHyopLXkWgtPS0jXA4DLuSkqC+UQ1HixRWjuOHi5XKpzvXRSqUytWSslJOJBKth0Khex9Mpuc3u3uWtkMbPzmmt++2jSRJOcfzgy63W9ugqrNHLfHR2BhBEEiWmprm101ov89Mz+Bo4BOtNjdRlOhnGMZxt68/FH+D8fzD/AKVShqzbU52jQAAAABJRU5ErkJggg=="/>
        <span class="sf-toolbar-status">{{ collector.totals.calls }}</span>
        {% if collector.totals.calls > 0 %}
            <span class="sf-toolbar-info-piece-additional-detail">in {{ '%0.2f'|format(collector.totals.time * 1000) }} ms</span>
        {% endif %}
    {% endset %}
    {% set text %}
        <div class="sf-toolbar-info-piece">
            <b>Memcache Calls</b>
            <span>{{ collector.totals.calls }}</span>
        </div>
        <div class="sf-toolbar-info-piece">
            <b>Total time</b>
            <span>{{ '%0.2f'|format(collector.totals.time * 1000) }} ms</span>
        </div>
        <div class="sf-toolbar-info-piece">
            <b>Cache hits</b>
            <span>{{ collector.totals.hits }}/{{ collector.totals.reads }} ({{ collector.totals.ratio }})</span>
        </div>
        <div class="sf-toolbar-info-piece">
            <b>Cache writes</b>
            <span>{{ collector.totals.writes }}</span>
        </div>
    {% endset %}
    {% include 'WebProfilerBundle:Profiler:toolbar_item.html.twig' with { 'link': profiler_url } %}
{% endblock %}

{% block menu %}
    <span class="label">
    <span class="icon">
        <img width="32"
             height="33"
             alt="Memcache"
             src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DGRcLOjRUchgAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEM0lEQVRYw+1Wa0ybZRR+3q8tY1gwmshGvBGW/ViEBqfSghpgFzdmNhaQy4bZsoEbRcCNIQtEsoTb3Bj9AVWgILDF0UksJNKIl0gQ0RUolFvnmEhSpixeKKATOno5/mAlGyu23S9/9Pn55X3OeZ5zznu+F/DAAw/+DyAiobK5Ob+vry/l5tSU0B2ubmBQVFtdXTw+Pi4mIt5DCZBXVpaGBofQS89vpbjY/breH67ucZWbduSobmuIiF4Jj7hz7Giqkog2uZObIyLOYJg6yBiDjQgGgyFUKpWq3y8tqxseGnraSeV85+fngxmPB5PJ5KUdGEjevWNnf1tr6xGbjXxcEqBQKHje3useBxEYY2BgYIyxlpaWtNyTOf1XlMocIhI4IstkMj/GcStl5zgOf87MPHa2pLQ+MT7+69m52XCnAqanpxmBGMCWvzAsC2EMxtnZDWdLSisypRnfqNvbXyAidi95YWGBWx3wbiW5ycnJiJgdr3VXlJefnzJMbVxLAH8lq4NAACDw8oJGo3lVNzjYPaDV1hPRe4yxv5064ziYLRa+sln57hcdHUm9Gk2BWCK5/MC55WY61HAflsxmnzZVa3ZyQuJAU0NjPBHxFxcXbctkx7CbMBpnn5EeS//4RHZ2W69GE/qggP8Icm8gvkCAiYmJzfKqqk/SUtPUsbGxAYzI6aAxxsA4hp7veva/k5nV81F9fZG9nWu2wIkYnk6r3VUPBDEe3x0ezBbLIx9UyQtvTU97A8jjnPtfIyDHYWR4eDPPHtk9AxjU6Q4QEY97mMVls1rh47Me52QVZLZY3OJaLRaIRCKczM2dYYzZh5BcXdngOIYwiRhNzZfNKpWq3JUCEhGICHwBH8czpHgrM+PXM4WFmQCsnDuuAwI24kxxMR04dOhGqEi0c4O/f6Wr3Oht0aiqrrYQj1O9LJaIOzs7e1aGkJyo9xIIsH3PHiS/mfLPFaWyrKSoqAaAkc/nP+XM+aN+fpBmZWK9UDgql1flX2xs6gBgu28RsVUS6O5atlmtCBGJkJ71tnXGaPw+eMuWLAAj9nNms5k5SrrcazOSD6Zg997XF9rV6qbC/ILTAG473ITkIIivUIi4hDfwokR8S1GryGtsaPgUgMmBz9VkBAYGIud0Hn6a/Lm7IL8g53O1enCtQvO7urpsUZGRK6NsXlpCZHQUDqel3tHr9Z9FiCWnANx0RNbr9UsCr3UEgBERrBYLTuSewnOikN/r6urKFNU1cgBWp1fz4qVLQ9sjoyghLp5a29qo46svb+zdty8KgLMHhresQrawLSqapMfTaezaNTp3oVwpCZc869bdTExKOjw8Nmq62t/32/mKC6UAfF3lflhboxoaHTF1fts1tismJtnthWb/J4SFhQXZiP7S9vf/4c5yDNoU5PuEv/+T83Nzv1z/8fptzwPXAw/cxb9BRtmu8GHExgAAAABJRU5ErkJggg=="/>
    </span>
    <strong>Memcache</strong>
    <span class="count">
        <span>{{ collector.totals.calls }}</span>
        <span>{{ '%0.0f'|format(collector.totals.time * 1000) }} ms</span>
    </span>
</span>
{% endblock %}

{% block panel %}
    <h2>Memcache</h2>
    {% for name, calls in collector.calls %}
        <h3>Statistics for '{{ name }}'</h3>
        <table>
            <thead>
            <tr>
                {% for key, value in collector.statistics[name] %}
                    <th>{{ key|capitalize }}</th>
                {% endfor %}
            </tr>
            </thead>
            <tbody>
            <tr>
                {% for key, value in collector.statistics[name] %}
                    {% if key == 'time' %}
                        <td>{{ '%0.2f'|format(value * 1000) }} ms</td>
                    {% else %}
                        <td>{{ value }}</td>
                    {% endif %}
                {% endfor %}
            </tr>
            </tbody>
        </table>

        <h3>Calls for '{{ name }}'</h3>

        {% if not collector.totals.calls %}
            <p>
                <em>No calls.</em>
            </p>
        {% else %}
            <ul class="alt">
                {% for i, call in calls %}
                    <li class="{{ i is odd ? 'odd' : 'even' }}">
                        <div>
                            <strong>Name</strong>: {{ call.name }}<br/>
                            <strong>Arguments</strong>: {{ call.arguments|json_encode() }}<br/>
                            <strong>Results</strong>: {{ call.result|json_encode() }}<br/>
                        </div>
                        <small>
                            <strong>Time</strong>: {{ '%0.2f'|format(call.time * 1000) }} ms
                        </small>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}

        <h3>Options for '{{ name }}'</h3>
        <pre>
            {%- for key, value in collector.options[name] %}
                {{- '%-25s'|format(key~':') }} {{ value }}{{ "\n" -}}
            {% endfor %}
        </pre>
    {% endfor %}

{% endblock %}
